# Claude EPC Workflow

Multi-agent system for frontend development. Agents read skills (knowledge modules) before implementing.

## What This Is

Five agents + 3 commands + 19 skills for frontend development.

**Agents:**
- `javascript-specialist` - JS/TS, algorithms, security utilities
- `react-virtuoso` - React components, UI, performance
- `pwa-architect` - PWA conversion, offline-first
- `git-wizard` - Git operations, commits
- `test-sentinel` - Testing including security tests

**Commands:**
- `epc` - Routes tasks to the right specialist, manages handoffs
- `analyze-codebase` - Deep codebase analysis, generates `CLAUDE.md`
- `debt-audit` - Scans 7 debt categories, generates prioritized report

## Skills

This workflow uses **19 skills** - knowledge modules that agents read before implementing.

**Created for this workflow (6):**
- `agent-orchestration` - Multi-agent coordination patterns
- `git-workflows` - Git Flow, GitHub Flow, branching strategies
- `js-patterns` - JavaScript design patterns (Module, Singleton, Observer, Factory, etc.)
- `pwa-patterns` - Service workers, caching strategies, offline-first
- `react-patterns` - Hooks, compound components, render props, HOCs
- `testing-patterns` - Unit, integration, e2e testing patterns

**From community ([antigravity-awesome-skills](https://github.com/sickn33/antigravity-awesome-skills)) (13):**
- `clean-code`, `frontend-design`, `frontend-dev-guidelines`, `frontend-developer`
- `frontend-mobile-security-xss-scan`, `frontend-security-coder`
- `react-best-practices`, `react-modernization`, `react-ui-patterns`
- `typescript-advanced-types`, `typescript-expert`, `typescript-pro`
- `web-performance-optimization`

Skills are located in `~/.claude/skills/` and cover patterns, quality standards, security, performance, and TypeScript.

## Install

```bash
# Clone repo
git clone https://github.com/lakarpusky/claude-epc-workflow.git

# Copy to your .claude directory
cp -r claude-epc-workflow/agents ~/.claude/
cp -r claude-epc-workflow/commands ~/.claude/
cp -r claude-epc-workflow/skills ~/.claude/
```

## How Skills Work

**Without skills:**
```
You: "Add XSS protection"
→ Agent implements based on training data
→ Inconsistent patterns
```

**With skills:**
```
You: "Add XSS protection"
→ EPC reads agent-orchestration skill
→ Delegates to javascript-specialist
→ JS specialist reads frontend-security-coder skill
→ Implements DOMPurify (skill-informed)
→ test-sentinel reads same security skills
→ Creates XSS tests with proper vectors
```

## Usage

### Commands

```bash
# Orchestrate agents via EPC
/epc [mode] [task]

# Examples
/epc quick fix null check              # Fast, ~100 tokens
/epc standard add JWT auth             # Standard, ~300 tokens
/epc architect redesign state          # Complex, ~600 tokens

# Map a new codebase → generates CLAUDE.md
/analyze-codebase

# Full debt audit across all 7 categories
/debt-audit

# Scan a single category
/debt-audit dependencies
/debt-audit code-quality
/debt-audit tests
/debt-audit design
/debt-audit performance

# Quick top-5 scan before sprint planning
/debt-audit quick

# Compare with previous audit
/debt-audit compare
```

**Recommended workflow:** Run `/analyze-codebase` first on a new project, then `/debt-audit` periodically. The debt auditor reads the `CLAUDE.md` generated by the analyzer to weight its severity scoring.

### Agents

```bash
# Direct agent calls
/javascript-specialist create login utility
/react-virtuoso build data table
/pwa-architect convert to PWA
/test-sentinel add security tests
```

## Token Management

**Default budgets per mode:**
- **Quick:** ~100 tokens - Instant patterns, known fixes
- **Standard:** ~300 tokens - Feature implementation (Explore → Plan → Code)
- **Architect:** ~600 tokens - Complex architecture, multi-agent coordination
- **Emergency:** ~50 tokens - Production fixes, fastest path

**Why this matters:**
- Keeps responses concise and actionable
- Prevents over-explanation and rambling
- Each agent optimized for minimal token usage
- Typical task: 150-400 tokens vs 1000+ in generic workflows

**Token strategy:**
- No code in responses (only file changes)
- Metrics over descriptions
- Confidence scores instead of justifications
- One solution, not multiple options

## Multi-Agent Example

**Request:** "Add offline cart"

```
EPC (reads: agent-orchestration)
  ├─→ React Virtuoso (reads: react-patterns, react-ui-patterns)
  │   Creates: Cart UI, product list
  │
  ├─→ PWA Architect (reads: pwa-patterns, web-performance-optimization)
  │   Creates: IndexedDB storage, offline sync, service worker
  │
  ├─→ JavaScript Specialist (reads: js-patterns, typescript-expert)
  │   Creates: Cart manager, calculator
  │
  ├─→ Test Sentinel (reads: testing-patterns)
  │   Creates: Unit tests, integration tests
  │
  └─→ Git Wizard (reads: git-workflows)
      Creates: Feature branch, atomic commits
```

## File Structure

```
~/.claude/
├── agents/                      # Specialized agents
│   ├── git-wizard.md
│   ├── javascript-specialist.md
│   ├── pwa-architect.md
│   ├── react-virtuoso.md
│   └── test-sentinel.md
│
├── commands/                    # Slash commands
│   ├── analyze-codebase.md      # Codebase cartographer → CLAUDE.md
│   ├── debt-audit.md            # Health inspector → debt report
│   └── epc.md                   # Main orchestrator
│
└── skills/                      # Knowledge modules (19 total)
    ├── agent-orchestration/
    ├── clean-code/
    ├── frontend-design/
    ├── frontend-dev-guidelines/
    ├── frontend-developer/
    ├── frontend-mobile-security-xss-scan/
    ├── frontend-security-coder/
    ├── git-workflows/
    ├── js-patterns/
    ├── pwa-patterns/
    ├── react-best-practices/
    ├── react-modernization/
    ├── react-patterns/
    ├── react-ui-patterns/
    ├── testing-patterns/
    ├── typescript-advanced-types/
    ├── typescript-expert/
    ├── typescript-pro/
    └── web-performance-optimization/
```

## Skill Assignment Matrix

| Skill | EPC | JS | React | PWA | Git | Test |
|-------|-----|----|----|-----|-----|------|
| agent-orchestration | ✓✓✓ | | | | | |
| clean-code | ✓ | ✓✓✓ | ✓✓ | ✓ | ✓✓ | ✓✓ |
| js-patterns | | ✓✓✓ | ✓ | | | |
| react-patterns | | | ✓✓✓ | | | |
| pwa-patterns | | | | ✓✓✓ | | |
| frontend-security-coder | | ✓✓ | ✓ | | | ✓✓ |
| testing-patterns | | ✓✓ | ✓✓ | ✓✓ | | ✓✓✓ |
| typescript-expert | | ✓✓✓ | ✓ | | | ✓✓ |
| typescript-pro | | ✓ | ✓✓✓ | | | ✓ |
| web-performance-optimization | | ✓✓ | ✓✓✓ | ✓✓✓ | | |
| git-workflows | | | | | ✓✓✓ | |
| react-best-practices | | | ✓✓✓ | | | |
| react-ui-patterns | | | ✓✓✓ | ✓ | | |
| frontend-design | | | ✓✓✓ | ✓✓ | | |

**Legend:** ✓✓✓ = Primary (always) · ✓✓ = Important (often) · ✓ = Supporting (sometimes)

## Key Features

**Consistent Patterns**  
Agents read skills before implementing. Same patterns every time.

**Security Built-In**  
JS Specialist builds secure utilities via `frontend-security-coder`. Test Sentinel creates security tests using same knowledge.

**Performance Default**  
React Virtuoso reads `react-best-practices`. PWA Architect reads `web-performance-optimization`. JS Specialist optimizes algorithms via `js-patterns`.

**Quality Gates**  
All agents read `clean-code` for baseline quality standards.

## What This Is NOT

* Not a framework or build system
* Not a GUI or dashboard
* Skills must exist in `~/.claude/skills/`

## Scope

**Covered:**  
Frontend JS/TS, React, Jest/RTL, Git, PWA, security (XSS, auth), performance

**Not Covered:**  
Backend, Vue/Svelte/Angular, E2E testing (Playwright/Cypress), infrastructure

## Requirements

* Claude Code
* Frontend project (JS/TS, React preferred)

## License

MIT
